{"version":3,"sources":["path-value.js"],"names":["f","exports","module","define","amd","window","global","self","this","pathValue","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","TypeError","String","__","constructor","create","defineProperty","value","PathExistError","PathError","_super","types_1","msg","res","_this","chain","errorCode","codeName","PathErrorCode","options","idx","scope","propName","./types","2","resolveIfExists","resolveValue","validateExists","validateErrorCode","tokenizePath","resolvePath","enumerable","get","errors_1","parsers_1","validators_1","resolvers_1","./errors","./parsers","./resolvers","./validators","3","utils_1","target","path","isThis","indexOf","split","len","ignoreFunctions","exists","name_1","emptyName","invalidThis","isClass","undefined","then","asyncValue","next","genValue","stopped","reg","exec","push","./utils","4","5","6","func","s","Function","toString","startsWith","7","asyncName","JSON","stringify","genName","stoppedName","lastName"],"mappings":"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","file":"path-value.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pathValue = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathExistError = exports.PathError = void 0;\r\nvar types_1 = require(\"./types\");\r\n/**\r\n * Custom error type, thrown by `validateErrorCode`.\r\n */\r\nvar PathError = /** @class */ (function (_super) {\r\n    __extends(PathError, _super);\r\n    function PathError(msg, res) {\r\n        var _this = _super.call(this, msg) || this;\r\n        _this.chain = res.chain;\r\n        _this.code = res.errorCode;\r\n        _this.codeName = \"PathErrorCode.\" + types_1.PathErrorCode[_this.code];\r\n        if (res.options) {\r\n            _this.options = res.options;\r\n        }\r\n        _this.idx = res.idx;\r\n        _this.scope = res.scope;\r\n        Object.setPrototypeOf(_this, PathError.prototype);\r\n        return _this;\r\n    }\r\n    return PathError;\r\n}(Error));\r\nexports.PathError = PathError;\r\n/**\r\n * Custom error type, thrown by `validateExists`.\r\n */\r\nvar PathExistError = /** @class */ (function (_super) {\r\n    __extends(PathExistError, _super);\r\n    function PathExistError(msg, res, propName) {\r\n        var _this = _super.call(this, msg) || this;\r\n        _this.chain = res.chain;\r\n        _this.propName = propName;\r\n        if (res.options) {\r\n            _this.options = res.options;\r\n        }\r\n        _this.scope = res.scope;\r\n        Object.setPrototypeOf(_this, PathExistError.prototype);\r\n        return _this;\r\n    }\r\n    return PathExistError;\r\n}(Error));\r\nexports.PathExistError = PathExistError;\r\n\n},{\"./types\":5}],2:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resolveIfExists = exports.resolveValue = exports.validateExists = exports.validateErrorCode = exports.tokenizePath = exports.resolvePath = exports.PathExistError = exports.PathError = exports.PathErrorCode = void 0;\r\nvar types_1 = require(\"./types\");\r\nObject.defineProperty(exports, \"PathErrorCode\", { enumerable: true, get: function () { return types_1.PathErrorCode; } });\r\nvar errors_1 = require(\"./errors\");\r\nObject.defineProperty(exports, \"PathError\", { enumerable: true, get: function () { return errors_1.PathError; } });\r\nObject.defineProperty(exports, \"PathExistError\", { enumerable: true, get: function () { return errors_1.PathExistError; } });\r\nvar parsers_1 = require(\"./parsers\");\r\nObject.defineProperty(exports, \"resolvePath\", { enumerable: true, get: function () { return parsers_1.resolvePath; } });\r\nObject.defineProperty(exports, \"tokenizePath\", { enumerable: true, get: function () { return parsers_1.tokenizePath; } });\r\nvar validators_1 = require(\"./validators\");\r\nObject.defineProperty(exports, \"validateErrorCode\", { enumerable: true, get: function () { return validators_1.validateErrorCode; } });\r\nObject.defineProperty(exports, \"validateExists\", { enumerable: true, get: function () { return validators_1.validateExists; } });\r\nvar resolvers_1 = require(\"./resolvers\");\r\nObject.defineProperty(exports, \"resolveValue\", { enumerable: true, get: function () { return resolvers_1.resolveValue; } });\r\nObject.defineProperty(exports, \"resolveIfExists\", { enumerable: true, get: function () { return resolvers_1.resolveIfExists; } });\r\n\n},{\"./errors\":1,\"./parsers\":3,\"./resolvers\":4,\"./types\":5,\"./validators\":7}],3:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.tokenizePath = exports.resolvePath = void 0;\r\nvar types_1 = require(\"./types\");\r\nvar utils_1 = require(\"./utils\");\r\n/**\r\n * Path-to-descriptor core resolution function.\r\n *\r\n * @param target\r\n * Default resolution scope.\r\n *\r\n * @param path\r\n * Resolution path, either as an array of property names, or a dot-separated string.\r\n * If the path starts with `this`, resolution is against the calling context.\r\n *\r\n * @param options\r\n * Path-parsing options.\r\n */\r\nfunction resolvePath(target, path, options) {\r\n    var chain = typeof path === 'string' ? path.indexOf('.') === -1 ? [path] : path.split('.') : path;\r\n    var len = chain.length, ignoreFunctions = options && options.ignoreFunctions;\r\n    var value, isThis, i = 0, exists = true, scope = target;\r\n    for (i; i < len; i++) {\r\n        var name_1 = chain[i];\r\n        if (name_1 === '') {\r\n            return { chain: chain, scope: scope, options: options, idx: i - 1, errorCode: types_1.PathErrorCode.emptyName };\r\n        }\r\n        isThis = name_1 === 'this';\r\n        if (isThis) {\r\n            if (i) {\r\n                return { chain: chain, scope: scope, options: options, idx: i - 1, errorCode: types_1.PathErrorCode.invalidThis };\r\n            }\r\n            target = scope = this;\r\n        }\r\n        if (target === null || target === undefined) {\r\n            if (isThis) {\r\n                value = target;\r\n                i++;\r\n            }\r\n            break;\r\n        }\r\n        value = isThis ? target : target[name_1];\r\n        while (!ignoreFunctions && typeof value === 'function' && !utils_1.isClass(value)) {\r\n            value = value.call(target);\r\n        }\r\n        if (value === undefined || value === null) {\r\n            i++;\r\n            if (value === undefined && i === len) {\r\n                var obj = typeof target === 'object' ? target : target.constructor.prototype;\r\n                exists = name_1 in obj;\r\n            }\r\n            break;\r\n        }\r\n        if (typeof value.then === 'function') {\r\n            return { chain: chain, scope: scope, options: options, idx: i - 1, errorCode: types_1.PathErrorCode.asyncValue };\r\n        }\r\n        if (typeof value.next === 'function') {\r\n            return { chain: chain, scope: scope, options: options, idx: i - 1, errorCode: types_1.PathErrorCode.genValue };\r\n        }\r\n        target = value;\r\n    }\r\n    if (i === len) {\r\n        return { chain: chain, scope: scope, options: options, idx: i - 1, exists: exists, value: value };\r\n    }\r\n    return { chain: chain, scope: scope, options: options, idx: i - 1, errorCode: types_1.PathErrorCode.stopped };\r\n}\r\nexports.resolvePath = resolvePath;\r\n/**\r\n * Converts a valid full-syntax JavaScript string into an array of names/indexes,\r\n * which then can be passed into `resolvePath`.\r\n *\r\n * This function is separate from `resolvePath` for performance reasons, as tokenizing\r\n * a path is much slower than resolving a tokenized path. Therefore, when possible, it is\r\n * best to tokenize a path only once, and then reuse the tokens to resolve the path value.\r\n *\r\n * @param path\r\n * Valid JavaScript property path.\r\n */\r\nfunction tokenizePath(path) {\r\n    var res = [], reg = /\\[\\s*(\\d+)(?=\\s*])|\\[\\s*([\"'])((?:\\\\.|(?!\\2).)*)\\2\\s*]|[\\w$]+/g;\r\n    var a;\r\n    while (a = reg.exec(path)) {\r\n        res.push(a[1] || a[3] || a[0]);\r\n    }\r\n    return res;\r\n}\r\nexports.tokenizePath = tokenizePath;\r\n\n},{\"./types\":5,\"./utils\":6}],4:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resolveIfExists = exports.resolveValue = void 0;\r\nvar parsers_1 = require(\"./parsers\");\r\nvar validators_1 = require(\"./validators\");\r\n/**\r\n * High-level path-to-value resolution function, to either return the resolved value or throw a detailed error.\r\n *\r\n * @param target\r\n * Default resolution scope.\r\n *\r\n * @param path\r\n * Resolution path, either as an array of property names, or a dot-separated string.\r\n * If the path starts with `this`, resolution is against the calling context.\r\n *\r\n * @param options\r\n * Path-parsing options.\r\n */\r\nfunction resolveValue(target, path, options) {\r\n    var res = parsers_1.resolvePath.call(this, target, path, options);\r\n    validators_1.validateErrorCode(res);\r\n    return res.value;\r\n}\r\nexports.resolveValue = resolveValue;\r\n/**\r\n * Extends validation for missing last property, to throw a detailed error.\r\n *\r\n * @param target\r\n * Default resolution scope.\r\n *\r\n * @param path\r\n * Resolution path, either as an array of property names, or a dot-separated string.\r\n * If the path starts with `this`, resolution is against the calling context.\r\n *\r\n * @param options\r\n * Path-parsing options.\r\n */\r\nfunction resolveIfExists(target, path, options) {\r\n    var res = parsers_1.resolvePath.call(this, target, path, options);\r\n    validators_1.validateErrorCode(res);\r\n    validators_1.validateExists(res);\r\n    return res.value;\r\n}\r\nexports.resolveIfExists = resolveIfExists;\r\n\n},{\"./parsers\":3,\"./validators\":7}],5:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PathErrorCode = void 0;\r\n/**\r\n * Error code that's used within type IPathResult.\r\n */\r\nvar PathErrorCode;\r\n(function (PathErrorCode) {\r\n    /**\r\n     * Empty name encountered.\r\n     */\r\n    PathErrorCode[PathErrorCode[\"emptyName\"] = 1] = \"emptyName\";\r\n    /**\r\n     * Keyword `this` encountered after the start.\r\n     */\r\n    PathErrorCode[PathErrorCode[\"invalidThis\"] = 2] = \"invalidThis\";\r\n    /**\r\n     * Encountered an asynchronous value or function.\r\n     */\r\n    PathErrorCode[PathErrorCode[\"asyncValue\"] = 3] = \"asyncValue\";\r\n    /**\r\n     * Encountered a generator function or iterator.\r\n     */\r\n    PathErrorCode[PathErrorCode[\"genValue\"] = 4] = \"genValue\";\r\n    /**\r\n     * Parsing stopped, after encountering `undefined` or `null` value.\r\n     */\r\n    PathErrorCode[PathErrorCode[\"stopped\"] = 5] = \"stopped\";\r\n})(PathErrorCode = exports.PathErrorCode || (exports.PathErrorCode = {}));\r\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isClass = void 0;\r\n/**\r\n * Verifies that 'function'-type parameter represents a class.\r\n *\r\n * It determines an ES6 class with 100% accuracy, while an ES5 class is only\r\n * determined when its name starts with a capital letter.\r\n *\r\n * @param func\r\n * Value of type 'function'\r\n */\r\nfunction isClass(func) {\r\n    var s = Function.prototype.toString.call(func);\r\n    return s.startsWith('class ') || (s.startsWith('function ') && s[9] <= 'Z' && s[9] >= 'A');\r\n}\r\nexports.isClass = isClass;\r\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.validateExists = exports.validateErrorCode = void 0;\r\nvar types_1 = require(\"./types\");\r\nvar errors_1 = require(\"./errors\");\r\n/**\r\n * Validates `errorCode` within `IPathResult`, to throw `PathError` when it is set.\r\n *\r\n * @param res\r\n * Result to validate.\r\n */\r\nfunction validateErrorCode(res) {\r\n    switch (res.errorCode) {\r\n        case types_1.PathErrorCode.emptyName:\r\n            throw new errors_1.PathError('Empty names are not allowed.', res);\r\n        case types_1.PathErrorCode.invalidThis:\r\n            throw new errors_1.PathError(\"Keyword 'this' can only be at the start.\", res);\r\n        case types_1.PathErrorCode.asyncValue:\r\n            var asyncName = JSON.stringify(res.chain[res.idx + 1]);\r\n            throw new errors_1.PathError(\"Cannot resolve \" + asyncName + \": async functions and values are not supported.\", res);\r\n        case types_1.PathErrorCode.genValue:\r\n            var genName = JSON.stringify(res.chain[res.idx + 1]);\r\n            throw new errors_1.PathError(\"Cannot resolve \" + genName + \": iterators and generators are not supported.\", res);\r\n        case types_1.PathErrorCode.stopped:\r\n            var stoppedName = JSON.stringify(res.chain[res.idx + 1]);\r\n            throw new errors_1.PathError(\"Cannot resolve \" + stoppedName + \" from null/undefined.\", res);\r\n        default:\r\n            break;\r\n    }\r\n}\r\nexports.validateErrorCode = validateErrorCode;\r\n/**\r\n * Validates `exists` within `IPathResult`, to throw `PathExistError` when it is `false`.\r\n *\r\n * @param res\r\n * Result to validate.\r\n */\r\nfunction validateExists(res) {\r\n    if (!res.exists) {\r\n        var lastName = res.chain[res.chain.length - 1];\r\n        throw new errors_1.PathExistError(\"Property \" + JSON.stringify(lastName) + \" doesn't exist.\", res, lastName);\r\n    }\r\n}\r\nexports.validateExists = validateExists;\r\n\n},{\"./errors\":1,\"./types\":5}]},{},[2])(2)\n});\n"]}