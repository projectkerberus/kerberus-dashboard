## API Report File for "@backstage/core-app-api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AlertApi } from '@backstage/core-plugin-api';
import { AlertMessage } from '@backstage/core-plugin-api';
import { AnyApiFactory } from '@backstage/core-plugin-api';
import { AnyApiRef } from '@backstage/core-plugin-api';
import { ApiFactory } from '@backstage/core-plugin-api';
import { ApiHolder } from '@backstage/core-plugin-api';
import { ApiRef } from '@backstage/core-plugin-api';
import { AppConfig } from '@backstage/config';
import { AppTheme } from '@backstage/core-plugin-api';
import { AppThemeApi } from '@backstage/core-plugin-api';
import { auth0AuthApiRef } from '@backstage/core-plugin-api';
import { AuthProvider } from '@backstage/core-plugin-api';
import { AuthRequester } from '@backstage/core-plugin-api';
import { AuthRequesterOptions } from '@backstage/core-plugin-api';
import { AuthRequestOptions } from '@backstage/core-plugin-api';
import { BackstageIdentity } from '@backstage/core-plugin-api';
import { BackstageIdentityApi } from '@backstage/core-plugin-api';
import { BackstagePlugin } from '@backstage/core-plugin-api';
import { ComponentType } from 'react';
import { ConfigReader } from '@backstage/config';
import { DiscoveryApi } from '@backstage/core-plugin-api';
import { ErrorApi } from '@backstage/core-plugin-api';
import { ErrorContext } from '@backstage/core-plugin-api';
import { ExternalRouteRef } from '@backstage/core-plugin-api';
import { FeatureFlag } from '@backstage/core-plugin-api';
import { FeatureFlagsApi } from '@backstage/core-plugin-api';
import { FeatureFlagsSaveOptions } from '@backstage/core-plugin-api';
import { gitlabAuthApiRef } from '@backstage/core-plugin-api';
import { googleAuthApiRef } from '@backstage/core-plugin-api';
import { IconComponent } from '@backstage/core-plugin-api';
import { microsoftAuthApiRef } from '@backstage/core-plugin-api';
import { OAuthApi } from '@backstage/core-plugin-api';
import { OAuthRequestApi } from '@backstage/core-plugin-api';
import { Observable } from '@backstage/core-plugin-api';
import { oktaAuthApiRef } from '@backstage/core-plugin-api';
import { oneloginAuthApiRef } from '@backstage/core-plugin-api';
import { OpenIdConnectApi } from '@backstage/core-plugin-api';
import { PendingAuthRequest } from '@backstage/core-plugin-api';
import { PluginOutput } from '@backstage/core-plugin-api';
import { ProfileInfo } from '@backstage/core-plugin-api';
import { ProfileInfoApi } from '@backstage/core-plugin-api';
import { PropsWithChildren } from 'react';
import PropTypes from 'prop-types';
import { ReactNode } from 'react';
import { RouteRef } from '@backstage/core-plugin-api';
import { SessionApi } from '@backstage/core-plugin-api';
import { SessionState } from '@backstage/core-plugin-api';
import { StorageApi } from '@backstage/core-plugin-api';
import { StorageValueChange } from '@backstage/core-plugin-api';
import { SubRouteRef } from '@backstage/core-plugin-api';

// @public
export class AlertApiForwarder implements AlertApi {
    // (undocumented)
    alert$(): Observable<AlertMessage>;
    // (undocumented)
    post(alert: AlertMessage): void;
    }

// @public (undocumented)
export type ApiFactoryHolder = {
    get<T>(api: ApiRef<T>): ApiFactory<T, T, {
        [key in string]: unknown;
    }> | undefined;
};

// @public
export class ApiFactoryRegistry implements ApiFactoryHolder {
    // (undocumented)
    get<T>(api: ApiRef<T>): ApiFactory<T, T, {
        [x: string]: unknown;
    }> | undefined;
    // (undocumented)
    getAllApis(): Set<AnyApiRef>;
    register<Api, Impl extends Api, Deps extends {
        [name in string]: unknown;
    }>(scope: ApiFactoryScope, factory: ApiFactory<Api, Impl, Deps>): boolean;
}

// @public (undocumented)
export const ApiProvider: {
    ({ apis, children, }: PropsWithChildren<ApiProviderProps>): JSX.Element;
    propTypes: {
        apis: PropTypes.Validator<PropTypes.InferProps<{
            get: PropTypes.Validator<(...args: any[]) => any>;
        }>>;
        children: PropTypes.Requireable<PropTypes.ReactNodeLike>;
    };
};

// @public (undocumented)
export class ApiRegistry implements ApiHolder {
    constructor(apis: Map<string, unknown>);
    // (undocumented)
    static builder(): ApiRegistryBuilder;
    // (undocumented)
    static from(apis: ApiImpl[]): ApiRegistry;
    // (undocumented)
    get<T>(api: ApiRef<T>): T | undefined;
    static with<T>(api: ApiRef<T>, impl: T): ApiRegistry;
    with<T>(api: ApiRef<T>, impl: T): ApiRegistry;
}

// @public (undocumented)
export class ApiResolver implements ApiHolder {
    constructor(factories: ApiFactoryHolder);
    // (undocumented)
    get<T>(ref: ApiRef<T>): T | undefined;
    static validateFactories(factories: ApiFactoryHolder, apis: Iterable<AnyApiRef>): void;
}

// @public (undocumented)
export type AppComponents = {
    NotFoundErrorPage: ComponentType<{}>;
    BootErrorPage: ComponentType<BootErrorPageProps>;
    Progress: ComponentType<{}>;
    Router: ComponentType<{}>;
    ErrorBoundaryFallback: ComponentType<ErrorBoundaryFallbackProps>;
    SignInPage?: ComponentType<SignInPageProps>;
};

// @public
export type AppConfigLoader = () => Promise<AppConfig[]>;

// @public (undocumented)
export type AppContext = {
    getPlugins(): BackstagePlugin<any, any>[];
    getSystemIcon(key: string): IconComponent | undefined;
    getComponents(): AppComponents;
};

// @public (undocumented)
export type AppOptions = {
    apis?: Iterable<AnyApiFactory>;
    icons?: Partial<AppIcons> & {
        [key in string]: IconComponent;
    };
    plugins?: BackstagePluginWithAnyOutput[];
    components?: Partial<AppComponents>;
    themes?: AppTheme[];
    configLoader?: AppConfigLoader;
    bindRoutes?(context: {
        bind: AppRouteBinder;
    }): void;
};

// @public (undocumented)
export type AppRouteBinder = <ExternalRoutes extends {
    [name: string]: ExternalRouteRef;
}>(externalRoutes: ExternalRoutes, targetRoutes: PartialKeys<TargetRouteMap<ExternalRoutes>, KeysWithType<ExternalRoutes, ExternalRouteRef<any, true>>>) => void;

// @public (undocumented)
export class AppThemeSelector implements AppThemeApi {
    constructor(themes: AppTheme[]);
    // (undocumented)
    activeThemeId$(): Observable<string | undefined>;
    // (undocumented)
    static createWithStorage(themes: AppTheme[]): AppThemeSelector;
    // (undocumented)
    getActiveThemeId(): string | undefined;
    // (undocumented)
    getInstalledThemes(): AppTheme[];
    // (undocumented)
    setActiveThemeId(themeId?: string): void;
    }

// @public (undocumented)
export class Auth0Auth {
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, defaultScopes, }: OAuthApiCreateOptions): typeof auth0AuthApiRef.T;
}

// @public (undocumented)
export type BackstageApp = {
    getPlugins(): BackstagePlugin<any, any>[];
    getSystemIcon(key: string): IconComponent | undefined;
    getProvider(): ComponentType<{}>;
    getRouter(): ComponentType<{}>;
};

// @public (undocumented)
export type BackstagePluginWithAnyOutput = Omit<BackstagePlugin<any, any>, 'output'> & {
    output(): (PluginOutput | UnknownPluginOutput)[];
};

// @public (undocumented)
export type BootErrorPageProps = {
    step: 'load-config' | 'load-chunk';
    error: Error;
};

export { ConfigReader }

// @public
export function createApp(options?: AppOptions): PrivateAppImpl;

// @public
export class ErrorAlerter implements ErrorApi {
    constructor(alertApi: AlertApi, errorApi: ErrorApi);
    // (undocumented)
    error$(): Observable<{
        error: {
            name: string;
            message: string;
            stack?: string | undefined;
        };
        context?: ErrorContext | undefined;
    }>;
    // (undocumented)
    post(error: Error, context?: ErrorContext): void;
}

// @public
export class ErrorApiForwarder implements ErrorApi {
    // (undocumented)
    error$(): Observable<{
        error: Error;
        context?: ErrorContext;
    }>;
    // (undocumented)
    post(error: Error, context?: ErrorContext): void;
    }

// @public (undocumented)
export type ErrorBoundaryFallbackProps = {
    plugin?: BackstagePlugin;
    error: Error;
    resetError: () => void;
};

// @public (undocumented)
export const FlatRoutes: (props: FlatRoutesProps) => JSX.Element | null;

// @public (undocumented)
export class GithubAuth implements OAuthApi, SessionApi {
    constructor(sessionManager: SessionManager<GithubSession>);
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, defaultScopes, }: OAuthApiCreateOptions): GithubAuth;
    // (undocumented)
    getAccessToken(scope?: string, options?: AuthRequestOptions): Promise<string>;
    // (undocumented)
    getBackstageIdentity(options?: AuthRequestOptions): Promise<BackstageIdentity | undefined>;
    // (undocumented)
    getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
    // (undocumented)
    static normalizeScope(scope?: string): Set<string>;
    // (undocumented)
    sessionState$(): Observable<SessionState>;
    // (undocumented)
    signIn(): Promise<void>;
    // (undocumented)
    signOut(): Promise<void>;
}

// @public (undocumented)
export type GithubSession = {
    providerInfo: {
        accessToken: string;
        scopes: Set<string>;
        expiresAt: Date;
    };
    profile: ProfileInfo;
    backstageIdentity: BackstageIdentity;
};

// @public (undocumented)
export class GitlabAuth {
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, defaultScopes, }: OAuthApiCreateOptions): typeof gitlabAuthApiRef.T;
}

// @public (undocumented)
export class GoogleAuth {
    // (undocumented)
    static create({ discoveryApi, oauthRequestApi, environment, provider, defaultScopes, }: OAuthApiCreateOptions): typeof googleAuthApiRef.T;
}

// @public
export class LocalStorageFeatureFlags implements FeatureFlagsApi {
    // (undocumented)
    getRegisteredFlags(): FeatureFlag[];
    // (undocumented)
    isActive(name: string): boolean;
    // (undocumented)
    registerFlag(flag: FeatureFlag): void;
    // (undocumented)
    save(options: FeatureFlagsSaveOptions): void;
}

// @public (undocumented)
export class MicrosoftAuth {
    // (undocumented)
    static create({ environment, provider, oauthRequestApi, discoveryApi, defaultScopes, }: OAuthApiCreateOptions): typeof microsoftAuthApiRef.T;
}

// @public (undocumented)
export class OAuth2 implements OAuthApi, OpenIdConnectApi, ProfileInfoApi, BackstageIdentityApi, SessionApi {
    constructor(options: Options);
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, defaultScopes, scopeTransform, }: CreateOptions): OAuth2;
    // (undocumented)
    getAccessToken(scope?: string | string[], options?: AuthRequestOptions): Promise<string>;
    // (undocumented)
    getBackstageIdentity(options?: AuthRequestOptions): Promise<BackstageIdentity | undefined>;
    // (undocumented)
    getIdToken(options?: AuthRequestOptions): Promise<string>;
    // (undocumented)
    getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
    // (undocumented)
    sessionState$(): Observable<SessionState>;
    // (undocumented)
    signIn(): Promise<void>;
    // (undocumented)
    signOut(): Promise<void>;
}

// @public (undocumented)
export type OAuth2Session = {
    providerInfo: {
        idToken: string;
        accessToken: string;
        scopes: Set<string>;
        expiresAt: Date;
    };
    profile: ProfileInfo;
    backstageIdentity: BackstageIdentity;
};

// @public
export class OAuthRequestManager implements OAuthRequestApi {
    // (undocumented)
    authRequest$(): Observable<PendingAuthRequest[]>;
    // (undocumented)
    createAuthRequester<T>(options: AuthRequesterOptions<T>): AuthRequester<T>;
    }

// @public (undocumented)
export class OktaAuth {
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, defaultScopes, }: OAuthApiCreateOptions): typeof oktaAuthApiRef.T;
}

// @public (undocumented)
export class OneLoginAuth {
    // (undocumented)
    static create({ discoveryApi, environment, provider, oauthRequestApi, }: CreateOptions_2): typeof oneloginAuthApiRef.T;
}

// @public (undocumented)
export class SamlAuth implements ProfileInfoApi, BackstageIdentityApi, SessionApi {
    constructor(sessionManager: SessionManager<SamlSession>);
    // (undocumented)
    static create({ discoveryApi, environment, provider, }: AuthApiCreateOptions): SamlAuth;
    // (undocumented)
    getBackstageIdentity(options?: AuthRequestOptions): Promise<BackstageIdentity | undefined>;
    // (undocumented)
    getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
    // (undocumented)
    sessionState$(): Observable<SessionState>;
    // (undocumented)
    signIn(): Promise<void>;
    // (undocumented)
    signOut(): Promise<void>;
}

// @public (undocumented)
export type SignInPageProps = {
    onResult(result: SignInResult): void;
};

// @public (undocumented)
export type SignInResult = {
    userId: string;
    profile: ProfileInfo;
    getIdToken?: () => Promise<string>;
    signOut?: () => Promise<void>;
};

// @public
export class UrlPatternDiscovery implements DiscoveryApi {
    static compile(pattern: string): UrlPatternDiscovery;
    // (undocumented)
    getBaseUrl(pluginId: string): Promise<string>;
    }

// @public (undocumented)
export class WebStorage implements StorageApi {
    constructor(namespace: string, errorApi: ErrorApi);
    // (undocumented)
    static create(options: CreateStorageApiOptions): WebStorage;
    // (undocumented)
    forBucket(name: string): WebStorage;
    // (undocumented)
    get<T>(key: string): T | undefined;
    // (undocumented)
    observe$<T>(key: string): Observable<StorageValueChange<T>>;
    // (undocumented)
    remove(key: string): Promise<void>;
    // (undocumented)
    set<T>(key: string, data: T): Promise<void>;
    }


// (No @packageDocumentation comment for this package)

```
